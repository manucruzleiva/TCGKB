@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  body {
    @apply bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-gray-100;
  }

  /* Theme transition - smooth color transitions */
  html.theme-transitioning,
  html.theme-transitioning *,
  html.theme-transitioning *::before,
  html.theme-transitioning *::after {
    transition: background-color 1.5s ease, color 1s ease, border-color 1s ease, box-shadow 1s ease !important;
  }
}

@layer components {
  .btn-primary {
    @apply bg-primary-600 hover:bg-primary-700 dark:bg-primary-500 dark:hover:bg-primary-600 text-white font-medium py-2 px-4 rounded-lg transition-colors duration-200;
  }

  .btn-secondary {
    @apply bg-gray-200 hover:bg-gray-300 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-800 dark:text-gray-100 font-medium py-2 px-4 rounded-lg transition-colors duration-200;
  }

  .input-field {
    @apply w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-primary-500 dark:focus:ring-primary-400 focus:border-transparent outline-none transition-all;
  }

  .card {
    @apply bg-white dark:bg-gray-800 rounded-lg shadow-md p-6;
  }

  /* ===== Inner Moon Theme Toggle ===== */
  .theme-toggle {
    @apply relative p-0 border-0 bg-transparent cursor-pointer;
    width: 56px;
    height: 28px;
  }

  .theme-toggle-track {
    @apply relative w-full h-full rounded-full overflow-hidden;
    background: linear-gradient(180deg, #7dd3fc 0%, #38bdf8 100%);
    transition: background 0.5s ease;
    box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.1);
  }

  html.dark .theme-toggle-track {
    background: linear-gradient(180deg, #1e293b 0%, #0f172a 100%);
  }

  .theme-toggle-thumb {
    @apply absolute rounded-full;
    width: 22px;
    height: 22px;
    top: 3px;
    left: 3px;
    background: linear-gradient(180deg, #fef3c7 0%, #fde047 100%);
    box-shadow: 0 2px 8px rgba(251, 191, 36, 0.5);
    transition: transform 0.5s cubic-bezier(0.34, 1.56, 0.64, 1),
                background 0.5s ease,
                box-shadow 0.5s ease;
  }

  .theme-toggle-thumb.is-dark {
    transform: translateX(28px);
    background: linear-gradient(180deg, #e2e8f0 0%, #94a3b8 100%);
    box-shadow: 0 2px 8px rgba(148, 163, 184, 0.5);
  }

  /* Crater for moon effect */
  .theme-toggle-crater {
    @apply absolute rounded-full;
    width: 8px;
    height: 8px;
    top: 4px;
    right: 3px;
    background: rgba(0, 0, 0, 0.1);
    opacity: 0;
    transition: opacity 0.4s ease 0.1s;
  }

  .theme-toggle-thumb.is-dark .theme-toggle-crater {
    opacity: 1;
    background: rgba(71, 85, 105, 0.4);
  }

  /* Sun rays */
  .theme-toggle-rays {
    @apply absolute inset-0 flex items-center justify-center;
    opacity: 1;
    transition: opacity 0.3s ease, transform 0.5s ease;
  }

  .theme-toggle-thumb.is-dark .theme-toggle-rays {
    opacity: 0;
    transform: scale(0);
  }

  .theme-toggle-ray {
    @apply absolute bg-amber-400;
    width: 2px;
    height: 5px;
    border-radius: 1px;
    transform-origin: center 14px;
    transform: rotate(calc(var(--ray-index) * 45deg)) translateY(-12px);
    animation: ray-pulse 2s ease-in-out infinite;
    animation-delay: calc(var(--ray-index) * 0.1s);
  }

  @keyframes ray-pulse {
    0%, 100% { opacity: 0.7; height: 5px; }
    50% { opacity: 1; height: 6px; }
  }

  /* Stars */
  .theme-toggle-stars {
    @apply absolute inset-0;
    opacity: 0;
    transition: opacity 0.4s ease 0.2s;
  }

  html.dark .theme-toggle-stars {
    opacity: 1;
  }

  .star {
    @apply absolute rounded-full bg-white;
    animation: twinkle 2s ease-in-out infinite;
  }

  .star-1 {
    width: 3px;
    height: 3px;
    top: 6px;
    left: 12px;
    animation-delay: 0s;
  }

  .star-2 {
    width: 2px;
    height: 2px;
    top: 14px;
    left: 8px;
    animation-delay: 0.5s;
  }

  .star-3 {
    width: 2px;
    height: 2px;
    top: 18px;
    left: 18px;
    animation-delay: 1s;
  }

  @keyframes twinkle {
    0%, 100% { opacity: 0.4; transform: scale(1); }
    50% { opacity: 1; transform: scale(1.2); }
  }

  /* ===== Language Fade Animation (text only) ===== */
  .lang-morphing h1,
  .lang-morphing h2,
  .lang-morphing h3,
  .lang-morphing h4,
  .lang-morphing h5,
  .lang-morphing h6,
  .lang-morphing p,
  .lang-morphing span,
  .lang-morphing a,
  .lang-morphing label,
  .lang-morphing th,
  .lang-morphing td,
  .lang-morphing li,
  .lang-morphing option,
  .lang-morphing button {
    animation: langFade 0.35s ease-in-out;
  }

  @keyframes langFade {
    0% {
      opacity: 1;
    }
    40% {
      opacity: 0;
    }
    60% {
      opacity: 0;
    }
    100% {
      opacity: 1;
    }
  }
}
